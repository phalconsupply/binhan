# ƒê·ªÄ XU·∫§T T√çNH NƒÇNG "C·∫§U H√åNH H·ªÜ TH·ªêNG"

## üìã T·ªîNG QUAN

T√≠nh nƒÉng cho ph√©p Admin c·∫•u h√¨nh c√°c th√¥ng s·ªë h·ªá th·ªëng m√† kh√¥ng c·∫ßn ch·ªânh s·ª≠a code.

---

## üéØ C√ÅC NH√ìM C·∫§U H√åNH

### 1. **TH√îNG TIN C√îNG TY** (Company Information)
```
- T√™n c√¥ng ty (Company Name)
- T√™n vi·∫øt t·∫Øt (Short Name)
- Slogan (Tagline)
- M√¥ t·∫£ (Description)
- Email li√™n h·ªá (Contact Email)
- S·ªë ƒëi·ªán tho·∫°i (Phone)
- Hotline
- Website URL
- ƒê·ªãa ch·ªâ (Address)
- Th√†nh ph·ªë/T·ªânh (City/Province)
- Qu·ªëc gia (Country)
- M√£ s·ªë thu·∫ø (Tax Code)
- Gi·∫•y ph√©p kinh doanh (Business License)
```

### 2. **GIAO DI·ªÜN H·ªÜ TH·ªêNG** (System Appearance)
```
- Logo ch√≠nh (Main Logo) - Upload
- Logo nh·ªè (Small Logo/Favicon) - Upload
- Favicon - Upload
- Background ƒëƒÉng nh·∫≠p (Login Background) - Upload
- M√†u ch·ªß ƒë·∫°o (Primary Color) - Color picker
- M√†u ph·ª• (Secondary Color)
- M√†u accent (Accent Color)
- Font ch·ªØ (Font Family)
- K√≠ch th∆∞·ªõc font (Font Size)
```

### 3. **NG√îN NG·ªÆ & ƒê·ªäNH D·∫†NG** (Language & Format)
```
- Ng√¥n ng·ªØ m·∫∑c ƒë·ªãnh (Default Language): vi, en
- M√∫i gi·ªù (Timezone): Asia/Ho_Chi_Minh
- ƒê·ªãnh d·∫°ng ng√†y (Date Format): DD/MM/YYYY, MM/DD/YYYY
- ƒê·ªãnh d·∫°ng gi·ªù (Time Format): 24h, 12h
- ƒê∆°n v·ªã ti·ªÅn t·ªá (Currency): VND
- K√Ω hi·ªáu ti·ªÅn t·ªá (Currency Symbol): ‚Ç´
- V·ªã tr√≠ k√Ω hi·ªáu (Currency Position): Before, After
- S·ªë th·∫≠p ph√¢n (Decimal Places): 0, 2
- Ph√¢n c√°ch h√†ng ngh√¨n (Thousand Separator): , ho·∫∑c .
```

### 4. **EMAIL** (Email Configuration)
```
- Email g·ª≠i ƒëi (From Email)
- T√™n ng∆∞·ªùi g·ª≠i (From Name)
- SMTP Host
- SMTP Port
- SMTP Username
- SMTP Password
- SMTP Encryption: SSL, TLS
- Email nh·∫≠n th√¥ng b√°o (Admin Email)
- B·∫≠t/t·∫Øt email th√¥ng b√°o (Enable Email Notifications)
```

### 5. **B·∫¢O M·∫¨T** (Security Settings)
```
- Th·ªùi gian timeout session (Session Timeout): ph√∫t
- S·ªë l·∫ßn ƒëƒÉng nh·∫≠p sai t·ªëi ƒëa (Max Login Attempts)
- Th·ªùi gian kh√≥a t√†i kho·∫£n (Lockout Duration): ph√∫t
- B·∫Øt bu·ªôc ƒë·ªïi m·∫≠t kh·∫©u (Force Password Change): ng√†y
- ƒê·ªô d√†i m·∫≠t kh·∫©u t·ªëi thi·ªÉu (Min Password Length)
- Y√™u c·∫ßu k√Ω t·ª± ƒë·∫∑c bi·ªát (Require Special Characters)
- Y√™u c·∫ßu s·ªë (Require Numbers)
- Y√™u c·∫ßu ch·ªØ hoa (Require Uppercase)
- X√°c th·ª±c 2 b∆∞·ªõc (Two-Factor Authentication): Enable/Disable
- Cho ph√©p nh·ªõ ƒëƒÉng nh·∫≠p (Remember Me): Enable/Disable
```

### 6. **NGHI·ªÜP V·ª§** (Business Settings)
```
- Gi·ªù b·∫Øt ƒë·∫ßu ca (Shift Start Time)
- Gi·ªù k·∫øt th√∫c ca (Shift End Time)
- S·ªë km mi·ªÖn ph√≠ (Free Kilometers)
- Gi√° m·ªói km th√™m (Price Per Extra Km)
- Thu·∫ø VAT (VAT Rate): %
- Ph√≠ d·ªãch v·ª• (Service Fee): %
- Th·ªùi gian ch·ªù mi·ªÖn ph√≠ (Free Waiting Time): ph√∫t
- Gi√° ti·ªÅn ch·ªù (Waiting Fee Per Hour)
- T·ª± ƒë·ªông t√≠nh ti·ªÅn (Auto Calculate Fee): Yes/No
- Y√™u c·∫ßu ph√™ duy·ªát chuy·∫øn (Require Approval): Yes/No
- Cho ph√©p ch·ªânh s·ª≠a sau (Allow Edit After Save): Yes/No
```

### 7. **TH√îNG B√ÅO** (Notification Settings)
```
- Th√¥ng b√°o chuy·∫øn m·ªõi (New Incident Notification): Yes/No
- Th√¥ng b√°o thu/chi (Transaction Notification): Yes/No
- Th√¥ng b√°o b·∫£o tr√¨ xe (Maintenance Notification): Yes/No
- Th√¥ng b√°o qu√° h·∫°n (Overdue Notification): Yes/No
- Email th√¥ng b√°o h√†ng ng√†y (Daily Report Email): Yes/No
- Gi·ªù g·ª≠i b√°o c√°o (Report Time): HH:MM
- Telegram/Zalo Bot Token (n·∫øu c√≥)
```

### 8. **BACKUP & B·∫¢O TR√å** (Backup & Maintenance)
```
- T·ª± ƒë·ªông backup (Auto Backup): Yes/No
- T·∫ßn su·∫•t backup (Backup Frequency): Daily, Weekly
- Gi·ªØ l·∫°i backup (Retain Backups): s·ªë ng√†y
- Ch·∫ø ƒë·ªô b·∫£o tr√¨ (Maintenance Mode): On/Off
- Th√¥ng b√°o b·∫£o tr√¨ (Maintenance Message)
```

### 9. **T√çCH H·ª¢P** (Integrations)
```
- Google Analytics ID
- Facebook Pixel ID
- Google Maps API Key
- Zalo OA ID
- Telegram Bot Token
- SMS Gateway API
- Payment Gateway (Momo, VNPay, ZaloPay)
```

### 10. **H·ªÜ TH·ªêNG** (System Settings)
```
- Ch·∫ø ƒë·ªô debug (Debug Mode): On/Off
- Log Level: debug, info, warning, error
- K√≠ch th∆∞·ªõc file upload t·ªëi ƒëa (Max Upload Size): MB
- Lo·∫°i file cho ph√©p (Allowed File Types)
- Cache: Enable/Disable
- Cache Duration: ph√∫t
- S·ªë b·∫£n ghi m·ªói trang (Records Per Page)
- S·ªë ng√†y gi·ªØ log (Log Retention Days)
```

---

## üíæ C·∫§U TR√öC DATABASE

```sql
CREATE TABLE system_settings (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    `group` VARCHAR(100) NOT NULL,        -- company, appearance, language, etc.
    `key` VARCHAR(100) NOT NULL,          -- company_name, logo_path, etc.
    `value` TEXT,                          -- Gi√° tr·ªã setting
    `type` VARCHAR(50) DEFAULT 'text',    -- text, textarea, file, color, select, etc.
    `options` TEXT,                        -- JSON options cho select/radio
    `description` VARCHAR(255),            -- M√¥ t·∫£ setting
    `order` INT DEFAULT 0,                 -- Th·ª© t·ª± hi·ªÉn th·ªã
    `is_public` BOOLEAN DEFAULT FALSE,     -- C√≥ cho ph√©p truy c·∫≠p public kh√¥ng
    created_at TIMESTAMP,
    updated_at TIMESTAMP,
    UNIQUE KEY unique_key (`key`)
);
```

---

## üé® GIAO DI·ªÜN

### Layout:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  C·∫§U H√åNH H·ªÜ TH·ªêNG                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  [Tabs Navigation]                  ‚îÇ
‚îÇ  - Th√¥ng tin c√¥ng ty                ‚îÇ
‚îÇ  - Giao di·ªán                        ‚îÇ
‚îÇ  - Ng√¥n ng·ªØ                         ‚îÇ
‚îÇ  - Email                            ‚îÇ
‚îÇ  - B·∫£o m·∫≠t                          ‚îÇ
‚îÇ  - Nghi·ªáp v·ª•                        ‚îÇ
‚îÇ  - Th√¥ng b√°o                        ‚îÇ
‚îÇ  - Backup                           ‚îÇ
‚îÇ  - T√≠ch h·ª£p                         ‚îÇ
‚îÇ  - H·ªá th·ªëng                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  [Form fields theo tab ƒë√£ ch·ªçn]     ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  [L∆∞u c·∫•u h√¨nh] [Kh√¥i ph·ª•c m·∫∑c ƒë·ªãnh]‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîß T√çNH NƒÇNG B·ªî SUNG

1. **Import/Export Settings**: Xu·∫•t/nh·∫≠p c·∫•u h√¨nh d·∫°ng JSON
2. **Settings History**: L∆∞u l·ªãch s·ª≠ thay ƒë·ªïi
3. **Validation**: Validate t·ª´ng field (email format, URL, s·ªë d∆∞∆°ng, v.v.)
4. **Preview**: Xem tr∆∞·ªõc thay ƒë·ªïi tr∆∞·ªõc khi l∆∞u (cho logo, m√†u s·∫Øc)
5. **Reset to Default**: Kh√¥i ph·ª•c gi√° tr·ªã m·∫∑c ƒë·ªãnh
6. **Cache Settings**: Cache ƒë·ªÉ truy c·∫≠p nhanh
7. **Permission Control**: Ch·ªâ admin m·ªõi ƒë∆∞·ª£c ch·ªânh s·ª≠a

---

## üìä HELPER FUNCTIONS

```php
// L·∫•y setting
setting('company_name', 'Default Company');

// Set setting
setting(['company_name' => 'Binhan']);

// L·∫•y nh√≥m settings
settings('company'); // L·∫•y t·∫•t c·∫£ settings trong nh√≥m company

// X√≥a cache
settings_cache_clear();
```

---

## ‚úÖ ∆ØU TI√äN TRI·ªÇN KHAI

**Phase 1 (Quan tr·ªçng nh·∫•t):**
- Th√¥ng tin c√¥ng ty
- Giao di·ªán (logo, favicon, colors)
- Ng√¥n ng·ªØ & ƒë·ªãnh d·∫°ng
- Nghi·ªáp v·ª• (gi√° c·∫£, thu·∫ø)

**Phase 2:**
- Email
- B·∫£o m·∫≠t
- Th√¥ng b√°o

**Phase 3:**
- Backup
- T√≠ch h·ª£p
- H·ªá th·ªëng

---

## üéØ ƒê·ªÄ XU·∫§T B·∫ÆT ƒê·∫¶U

T√¥i ƒë·ªÅ xu·∫•t b·∫Øt ƒë·∫ßu v·ªõi **Phase 1** - c√°c settings quan tr·ªçng nh·∫•t:

### 1. Th√¥ng tin c√¥ng ty (8 fields)
- company_name
- company_short_name
- company_email
- company_phone
- company_address
- company_tax_code
- company_description
- company_website

### 2. Giao di·ªán (6 fields)
- site_logo (upload)
- site_favicon (upload)
- primary_color
- login_background (upload)
- font_family
- theme_mode (light/dark)

### 3. ƒê·ªãnh d·∫°ng (6 fields)
- timezone
- date_format
- time_format
- currency
- currency_symbol
- decimal_places

### 4. Nghi·ªáp v·ª• (6 fields)
- free_kilometers
- price_per_km
- vat_rate
- service_fee
- auto_calculate_fee
- require_approval

---

**B·∫°n c√≥ mu·ªën t√¥i tri·ªÉn khai Phase 1 kh√¥ng?**

Ho·∫∑c b·∫°n mu·ªën ƒëi·ªÅu ch·ªânh/th√™m b·ªõt settings n√†o?
